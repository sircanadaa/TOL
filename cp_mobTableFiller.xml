<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Sunday, June 26, 2016, 3:38 PM -->
<!-- MuClient version 4.98 -->

<!-- Plugin "cp_mobTableFiller" generated by Plugin Wizard -->
<muclient>
<plugin
   name="cp_mobTableFiller"
   author="Sonet"
   id="0961770926b613688a1c5458"
   language="Lua"
   purpose="Fills the killtable.db with cp_mobs"
   save_state="y"
   date_written="2016-06-26 15:36:37"
   requires="4.77"
   version="1.0"
   >
</plugin>


<!--  Get our standard constants -->
<include name="constants.lua"/>

<!--  Triggers  -->
<triggers>
  <trigger
   enabled="y"
   match="^Congratulations, that was one of (your|the) (CAMPAIGN|GLOBAL QUEST) mobs!$"
   name="cp_trigger"
   regexp="y"
   send_to="12"
   script="last_kill"
   sequence="1"
  >
  </trigger>
  <trigger
   enabled="y"
   match="^QUEST: You have almost completed your QUEST!$"
   name="cp_trigger1"
   regexp="y"
   send_to="12"
   script="last_kill"
   sequence="1"
  >
  </trigger>

<trigger
   omit_from_output="y"
   match="^Kill history for (.*):$"
   name="cp_gag"
   group="gag_lastkill"
   regexp="y"
   send_to="12"
   sequence="1"
  >
  </trigger>

  <trigger
   omit_from_output="y"
   match="^Name                            Level  Exp  From$"
   name="cp_gag1"
   enabled="n"
   group="gag_lastkill"
   regexp="y"
   send_to="12"
   sequence="1"
  >
  </trigger>

  <trigger
   omit_from_output="y"
   enabled="n"
   match="^------------------------------  -----  ---  -------------------------$"
   name="cp_gag2"
   regexp="y"
   group="gag_lastkill"
   send_to="12"
   sequence="1"
  >
  </trigger>

  <trigger
   omit_from_output="y"
   enabled="n"
   match="^(.+)(\s+)([0-9]+)(\s+)([0-9]+)(\s+)(.+)$"
   name="cp_gag3"
   regexp="y"
   group="gag_lastkill"
   send_to="12"
   script="Add_To_Table"
   sequence="1"
  >
  
  </trigger>
  <trigger
   enabled="y"
   keep_evaluating="y"
   match="^([\[]\d+[\]])?\s?(?=You)(.*) \[(\d+)\]$"
   script="concat_name"
   regexp="y"
   name="capture_name"
   send_to="12"
   sequence="1"
   omit_from_output="n"
  >
  </trigger>
    <!-- New regex triggers...
      <trigger
       enabled="y"
       keep_evaluating="y"
       match="^\[[0-9]+\] You damage (.+)! \[[0-9]+\]$"
       script="get_mobname"
       regexp="y"
       send_to="12"
       sequence="1"
       omit_from_output="n"
      >
      </trigger>
      <trigger
       enabled="y"
       keep_evaluating="y"
       match="^(?:\[[0-9]+\] )?Your [a-z]+ misses (.+)\. \[[0-9]+\]$"
       script="get_mobname"
       regexp="y"
       send_to="12"
       sequence="1"
       omit_from_output="n"
      >
      </trigger>
      <trigger
       enabled="y"
       keep_evaluating="y"
       match="^(?:\[[0-9]+\] )?Your [a-z]+ [a-z]+ misses (.+)\. \[[0-9]+\]$"
       script="get_mobname"
       regexp="y"
       send_to="12"
       sequence="1"
       omit_from_output="n"
      >
      </trigger>
      <trigger
       enabled="y"
       keep_evaluating="y"
       match="^(?:\[[0-9]+\] )?Your (?:swing|acidic|digestion|slime|air|beating|blast|charge|crush|hit|pound|punch|slap|smash|suction|thwack|chill|freezing|earth|shock(?:ing)?|friction|wrath|flam(?:e|ing)|divine|light|magic|mental|mind|decaying|life|bite|chomp|peck|pierce|scratch|stab|sting|thrust|chop|claw|cleave|grep|slash|slice|whip|shadow|wail|water)(?: (?:bite|power|energy|touch|drain|blast))? (?!does|misses)[a-z]+ (?!misses|does)(.+)(?:\.|!) \[[0-9]+\]$"
       script="get_mobname"
       regexp="y"
       send_to="12"
       sequence="1"
       omit_from_output="n"
      >
      </trigger>
      <trigger
       enabled="y"
       keep_evaluating="y"
       match="^(?:\[[0-9]+\] )?Your (?:swing|acidic|digestion|slime|air|beating|blast|charge|crush|hit|pound|punch|slap|smash|suction|thwack|chill|freezing|earth|shock(?:ing)?|friction|wrath|flam(?:e|ing)|divine|light|magic|mental|mind|decaying|life|bite|chomp|peck|pierce|scratch|stab|sting|thrust|chop|claw|cleave|grep|slash|slice|whip|shadow|wail|water)(?: (?:bite|power|energy|touch|drain|blast))? does (?:UNSPEAKABLE|UNTHINKABLE|UNIMAGINABLE|UNBELIEVABLE) things to (.+)(?:\.|!) \[[0-9]+\]$"
       script="get_mobname"
       regexp="y"
       send_to="12"
       sequence="1"
       omit_from_output="n"
      >
      </trigger>
      <trigger
       enabled="y"
       keep_evaluating="y"
       match="^(?:\[[0-9]+\] )?Your (?:swing|acidic|digestion|slime|air|beating|blast|charge|crush|hit|pound|punch|slap|smash|suction|thwack|chill|freezing|earth|shock(?:ing)?|friction|wrath|flam(?:e|ing)|divine|light|magic|mental|mind|decaying|life|bite|chomp|peck|pierce|scratch|stab|sting|thrust|chop|claw|cleave|grep|slash|slice|whip|shadow|wail|water)(?: (?:bite|power|energy|touch|drain|blast))? [-\][*=<>:+]+ [a-zA-Z ]+ [-\][*=<>:+]+ (.+)(?:\.|!) \[[0-9]+\]$"
       script="get_mobname"
       regexp="y"
       send_to="12"
       sequence="1"
       omit_from_output="n"
      >
      </trigger>

 <!-- TRIGGER REGEX: 
6 triggers:
5: \[[0-9]+\] You damage (.+)! \[[0-9]+\]

12346: (?:\[[0-9]+\] )?Your [a-z]+ misses (.+)\. \[[0-9]+\]

12346(?:\[[0-9]+\] )?Your [a-z]+ [a-z]+ misses (.+)\. \[[0-9]+\]

12346: (?:\[[0-9]+\] )?Your (?:swing|acidic|digestion|slime|air|beating|blast|charge|crush|hit|pound|punch|slap|smash|suction|thwack|chill|freezing|earth|shock(?:ing)?|friction|wrath|flam(?:e|ing)|divine|light|magic|mental|mind|decaying|life|bite|chomp|peck|pierce|scratch|stab|sting|thrust|chop|claw|cleave|grep|slash|slice|whip|shadow|wail|water)(?: (?:bite|power|energy|touch|drain|blast))? (?!does|misses)[a-z]+ (?!misses|does)(.+)(?:\.|!) \[[0-9]+\]

12346: (?:\[[0-9]+\] )?Your (?:swing|acidic|digestion|slime|air|beating|blast|charge|crush|hit|pound|punch|slap|smash|suction|thwack|chill|freezing|earth|shock(?:ing)?|friction|wrath|flam(?:e|ing)|divine|light|magic|mental|mind|decaying|life|bite|chomp|peck|pierce|scratch|stab|sting|thrust|chop|claw|cleave|grep|slash|slice|whip|shadow|wail|water)(?: (?:bite|power|energy|touch|drain|blast))? does (?:UNSPEAKABLE|UNTHINKABLE|UNIMAGINABLE|UNBELIEVABLE) things to (.+)(?:\.|!) \[[0-9]+\]

12346: (?:\[[0-9]+\] )?Your (?:swing|acidic|digestion|slime|air|beating|blast|charge|crush|hit|pound|punch|slap|smash|suction|thwack|chill|freezing|earth|shock(?:ing)?|friction|wrath|flam(?:e|ing)|divine|light|magic|mental|mind|decaying|life|bite|chomp|peck|pierce|scratch|stab|sting|thrust|chop|claw|cleave|grep|slash|slice|whip|shadow|wail|water)(?: (?:bite|power|energy|touch|drain|blast))? [-\][*=<>:+]+ [a-zA-Z ]+ [-\][*=<>:+]+ (.+)(?:\.|!) \[[0-9]+\]

This should be 98.7% or so of damage messages.
-->
</triggers>
<!--  Aliases  -->



<!--  Variables  -->
<variables>
  <variable name="QArea1">The Realm of the Hawklords</variable>
</variables>

<!--  Script  -->
<script>
<![CDATA[
    
dofile (GetPluginInfo (GetPluginID (), 20) .. "cp_mobtablefilter.lua")
]]>
</script>
</muclient>